#include "sinr-ber-lut.h"
#include <stdint.h>


// sinr_ber_matrix represents the relationship between ber and sinr after LDPC.
// the rows of sinr_ber_matrix represent MCS15 to MCS24
// the columns of sinr_ber_matrix represent BER values correspond to SINR range from 4dB to 28dB. 

double const sinr_ber_matrix[10][25] = {
	{ 0.18346, 0.137378, 0.066034, 0.0074437, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, },
	{ 0.176097, 0.137286, 0.078501, 0.045411, 0.0061002, 0.00091065, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, },
	{ 1, 1, 0.087819, 0.065349, 0.031792, 0.0059155, 0.00011871, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, },
	{ 1, 1, 1, 1, 1, 1, 0.129591, 0.062691, 0.0089286, 0.00024315, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, },
	{ 1, 1, 1, 1, 1, 1, 1, 0.088998, 0.042885, 0.0061839, 0.0010634, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, },
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 0.057337, 0.039916, 0.013735, 0.0018739, 0.00006052, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, },
	{ 1, 1, 1, 1, 1, 1, 0.101552, 0.091577, 0.073733, 0.056501, 0.033673, 0.023227, 0.012408, 0.0017397, 0.00018554, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, },
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0.059447, 0.029118, 0.025834, 0.012006, 0.0049553, 0.00003668, 0, 0, 0, 0, 0, 0, 0, },
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0.071502, 0.055633, 0.037892, 0.023946, 0.0079851, 0.0014964, 0.00074814, 0.00025149, 0.00008059, 0, 0, 0, },
	{ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0.059791, 0.047909, 0.03776, 0.019703, 0.012519, 0.005397, 0.00058613, 0.00012569, 0.00006156, 0.00003463, 0, },
};

namespace ns3 {

double sinr_ber(unsigned int index1, unsigned int index2)
{
    return sinr_ber_matrix[index1][index2];
}

}
